<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>j.system.fswalker &mdash; Jumpscale Doc 7.0 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <link rel="top" title="Jumpscale Doc 7.0 documentation" href="../../../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../index.html">Jumpscale Doc 7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="j-system-fswalker">
<h1>j.system.fswalker<a class="headerlink" href="#j-system-fswalker" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/Jumpscale/jumpscale_core/tree/master/lib/JumpScale/core/system/fswalker.py">Source</a></p>
<div class="section" id="find">
<h2>find<a class="headerlink" href="#find" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>params: root,recursive,includeFolders,pathRegexIncludes,pathRegexExcludes,contentRegexIncludes,contentRegexExcludes,depths</li>
<li>path:/core/system/fswalker.py (line:38)</li>
</ul>
</div>
<div class="section" id="walk">
<h2>walk<a class="headerlink" href="#walk" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>params: root,callback,arg,recursive,includeFolders,pathRegexIncludes,pathRegexExcludes,contentRegexIncludes,contentRegexExcludes,depths,followlinks</li>
<li>path:/core/system/fswalker.py (line:44)</li>
</ul>
<p>Walk through filesystem and execute a method per file</p>
<p>Walk through all files and folders starting at C{root}, recursive by
default, calling a given callback with a provided argument and file
path for every file we could find.</p>
<p>If C{includeFolders} is True, the callback will be called for every
folder we found as well.</p>
</div>
</div>
<div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_print</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">arg</span><span class="p">,</span> <span class="n">path</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FSWalker</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span> <span class="n">my_print</span><span class="p">,</span> <span class="s">&#39;test:&#39;</span><span class="p">)</span>
<span class="go">test: /foo/file1</span>
<span class="go">test: /foo/file2</span>
<span class="go">test: /foo/file3</span>
<span class="go">test: /foo/bar/file4</span>
</pre></div>
</div>
<p>return False if you want recursion to stop (means don&#8217;t go deeper)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">dirlister</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;Found&#39;</span><span class="p">,</span> <span class="n">path</span>
<span class="gp">... </span>    <span class="n">arg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FSWalker</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span> <span class="n">dirlister</span><span class="p">,</span> <span class="n">paths</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">includeFolders</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">/foo/file1</span>
<span class="go">/foo/file2</span>
<span class="go">/foo/file3</span>
<span class="go">/foo/bar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">paths</span>
<span class="go">&#39;/foo/file1&#39;, &#39;/foo/file2&#39;, &#39;/foo/file3&#39;, &#39;/foo/bar&#39; &lt;&#39;/foo/file1&#39;, &#39;/foo/file2&#39;, &#39;/foo/file3&#39;, &#39;/foo/bar&#39;&gt;</span>
</pre></div>
</div>
<div class="section" id="walkfunctional">
<h2>walkFunctional<a class="headerlink" href="#walkfunctional" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>params: root,callbackFunctionFile,callbackFunctionDir,arg,callbackForMatchDir,callbackForMatchFile</li>
<li>path:/core/system/fswalker.py (line:149)</li>
</ul>
<p>Walk through filesystem and execute a method per file and dirname</p>
<p>Walk through all files and folders starting at C{root}, recursive by
default, calling a given callback with a provided argument and file
path for every file &amp; dir we could find.</p>
<p>To match the function use the callbackForMatch function which are separate for dir or file
when it returns True the path will be further processed
when None (function not given match will not be done)</p>
</div>
</div>
<div class="section" id="id1">
<h1>Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_print</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="n">arg</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">arg</span><span class="p">,</span> <span class="n">path</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">matchDirOrFile</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="n">arg</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="bp">True</span> <span class="c">#means will match all</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">FSWalker</span><span class="o">.</span><span class="n">walkFunctional</span><span class="p">(</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span> <span class="n">my_print</span><span class="p">,</span><span class="n">my_print</span><span class="p">,</span> <span class="s">&#39;test:&#39;</span><span class="p">,</span><span class="n">matchDirOrFile</span><span class="p">,</span><span class="n">matchDirOrFile</span><span class="p">)</span>
<span class="go">test: /foo/file1</span>
<span class="go">test: /foo/file2</span>
<span class="go">test: /foo/file3</span>
<span class="go">test: /foo/bar/file4</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">j.system.fswalker</a><ul>
<li><a class="reference internal" href="#find">find</a></li>
<li><a class="reference internal" href="#walk">walk</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#walkfunctional">walkFunctional</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Examples</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../_sources/spaces/Doc_Jumpscale_Libraries/Docs/system/j.system.fswalker.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../../index.html">Jumpscale Doc 7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    </div>
  </body>
</html>